step(normalization).
step(features).
step(mitigation).

step(classification).


operator(normalization, power_transformer).
operator(normalization, robust_scaler).
operator(normalization, standard).
operator(normalization, minmax).
operator(features, select_k_best).
operator(features, pca).
operator(mitigation, corr_remover).

operator(classification, knn).
operator(classification, nn).


hyperparameter(robust_scaler, with_centering, choice).
hyperparameter(robust_scaler, with_scaling, choice).
hyperparameter(standard, with_mean, choice).
hyperparameter(standard, with_std, choice).
hyperparameter(select_k_best, k, randint).
hyperparameter(pca, n_components, randint).
hyperparameter(corr_remover, alpha, choice).

hyperparameter(knn, n_neighbors, randint).
hyperparameter(knn, weights, choice).
hyperparameter(knn, metric, choice).
hyperparameter(nn, n_hidden_layers, choice).
hyperparameter(nn, n_neurons, choice).
hyperparameter(nn, activation, choice).
hyperparameter(nn, solver, choice).
hyperparameter(nn, alpha, choice).
hyperparameter(nn, learning_rate, choice).


domain(robust_scaler, with_centering, [true, false]).
domain(robust_scaler, with_scaling, [true, false]).
domain(standard, with_mean, [true, false]).
domain(standard, with_std, [true, false]).
domain(select_k_best, k, [1, 10]).
domain(pca, n_components, [1, 8]).
domain(corr_remover, alpha,  [0.25, 0.5, 0.75, 1.0]).

domain(knn, n_neighbors, [3, 20]).
domain(knn, weights, ["uniform", "distance"]).
domain(knn, metric, ["minkowski", "euclidean", "manhattan"]).
domain(nn, n_hidden_layers, [1, 5, 10, 25]).
domain(nn, n_neurons, [5, 10, 25, 50, 100]).
domain(nn, activation, ["logistic", "tanh", "relu"]).
domain(nn, solver, ["lbfgs", "sgd", "adam"]).
domain(nn, alpha, [0.0001, 0.001, 0.01, 0.00001]).
domain(nn, learning_rate, ["constant", "invscaling", "adaptive"]).

c1 :=> mandatory([mitigation], classification).
c2 :=> mandatory_order([mitigation, features], classification).
